<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta content="width=device-width, initial-scale=1.0, user-scalable=yes" name="viewport" />
   <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

   <title>Freizeitkarte - Entwicklung einer individuellen Karte</title>
   <link href="../design-menue2.css" rel="stylesheet" type="text/css" />
</head>

<body>
   <div id="title">
      <h3 style="text-align: center; margin-top: 0px;">Freizeitkarte - Entwicklung einer individuellen Karte</h3>
   </div>

   <div id='cssmenu'>
      <ul>
         <li class='has-sub'>
            <a href='#'><span>Start &rsaquo;</span></a>

            <ul>
               <li><a href='./index.html'><span>&Uuml;berblick</span></a></li>

               <li><a href='./ausgabe.html'><span>Ausgabe</span></a></li>

               <li class='last'><a href='./installation.html'><span>Installation</span></a></li>
            </ul>
         </li>

         <li class='has-sub'>
            <a href='#'><span>Karten &rsaquo;</span></a>

            <ul>
               <li><a href='./deutschland.html'><span>Deutschland</span></a></li>

               <li><a href='./oesterreich.html'><span>&Ouml;sterreich</span></a></li>

               <li><a href='./schweiz.html'><span>Schweiz</span></a></li>

               <li><a href='./frankreich.html'><span>Frankreich</span></a></li>

               <li><a href='./luxemburg.html'><span>Luxemburg</span></a></li>

               <li><a href='./polen.html'><span>Polen</span></a></li>

               <li><a href='./schweden.html'><span>Schweden</span></a></li>

               <li><a href='./weitere-laender.html'><span>Weitere L&auml;nder</span></a></li>

               <li><a href='./plus-laender.html'><span>Plusl&auml;nder</span></a></li>

               <li class='last'><a href='./regionen.html'><span>Regionen</span></a></li>
            </ul>
         </li>

         <li class='has-sub'>
            <a href='#'><span>Dokumentation &rsaquo;</span></a>

            <ul>
               <li><a href='./legende.html'><span>Legende</span></a></li>

               <li><a href='./design.html'><span>Design</span></a></li>

               <li><a href='./indexsuche.html'><span>Indexsuche</span></a></li>

               <li><a href='./routing.html'><span>Routing</span></a></li>

               <li><a href='./entwicklung.html'><span>Entwicklung</span></a></li>

               <li><a href='./dies-und-das.html'><span>Dies-Und-Das</span></a></li>

               <li class='last'><a href='./hilf-mit.html'><span>Hilf mit!</span></a></li>
            </ul>
         </li>
         <li class='last'><a href='./impressum.html'><span>Impressum</span></a></li>

      </ul>
   </div>

   <div id="content">
      <p>Jedermann ist herzlich eingeladen ... seine eigene Karte zu erstellen. Dies kann unter folgenden Aspekten interessant sein:</p>

      <ol>
         <li><strong>Aktualit&auml;t:</strong><br />
         Es ist m&ouml;glich, jederzeit eine "neue" Karte aus "tagesaktuellen" OSM-Daten zu erzeugen. Hierzu sind die OSM-Daten aus dem Internet zu laden und die Karte ist neu zu bilden. Alle hierzu erforderlichen Ablaufschritte werden durch verschiedene Aufrufe des Perl-Programmes <strong>"mt.pl"</strong> vereinfacht.</li>

         <li><strong>Inhalt:</strong><br />
         &Uuml;ber den Inhalt definieren sich die Objekte (Fl&auml;chen, Linien, POIs) die auf der Karte in den verschiedenen Vergr&ouml;&szlig;erungsstufen jeweils zur Anzeige kommen. In den Freizeitkarten vorhandene Standardobjekte k&ouml;nnen entfernt oder individuelle Elemente k&ouml;nnen hinzugef&uuml;gt werden. Dies gilt f&uuml;r nahezu alle Elemente des OSM-Datenbestands. Die Definition der Objekte erfolgt im wesentlichen in den drei Styledateien "polygons", "lines" und "points". Die Bearbeitung dieser Dateien erfolgt mit einem Standard-Texteditor (z.B. TextWrangler f&uuml;r OS X oder Notepad++ f&uuml;r Windows). Umfangreiche Kommentare in den Styledateien erleichtern den Einstieg in das Thema.</li>

         <li><strong>Design:</strong><br />
         Das Design legt das optische Erscheinungsbild der Karte fest. Hierbei kann jedes Objekt in der Darstellung beeinflu&szlig;t werden. Bei Fl&auml;chen ist dies z.B. die Farbe, bei Linien z.B. die Breite und bei POIs das Darstellungsicon. Das Erscheinungsbild wird in einer bin&auml;ren TYP-Datei festgelegt, die mit einem speziellen Editor bearbeitet werden kann (z.B. TYPViewer f&uuml;r Windows).</li>
      </ol>

      <p><img alt="" src="../images/schaffhausen.jpg" style="border-width: 1px; border-style: solid;" /><br />
        <small>Seit ca. 15.000 Jahren: Der Rheinfall in Schaffhausen ist mit weitem Abstand der größte Wasserfall Europas.<br />
               Im Sommer stürzen auf 150 Metern Breite im Mittel 600.000 Liter Wasser pro Sekunde 23 Meter in die Tiefe.</small></p>

      <p>Die Aspekte "Inhalt" und "Design" stehen in enger Wechselwirkung zueinander. Soll z.B. ein neues Objekt auf der Karte angezeigt werden, so ist dieses Objekt sowohl inhaltlich als auch vom Erscheinungsbild zu definieren.</p>

      <p><strong>Workflow zur Erstellung einer Freizeitkarte:</strong></p>

      <p>Der Workflow in der Entwicklungsumgebung ist je nach Art der herzustellenden Karte unterschiedlich. Wir unterscheiden grundsätzlich zwei Arten:</p>

      <ol>
         <li>
            <strong>Karten auf Basis von bestehenden OSM Daten Extrakten:</strong><br />
            Bei diesem Kartentyp existieren fertige Extrakte vom gewünschten Gebiet auf geofabrik, das heisst wir bauen vereinfacht nach dem folgenden Schema:<br />

            <ul>
               <li>Einmaliges Komplettieren der Entwicklungsumgebung: zuladen der sogenannten boundaries (bootstrap)</li>

               <li>Herunterladen der OSM Daten für die gewünschte Karte und der dazugehörigen Höhenlinien (fetch_*)</li>

               <li>Zusammensetzen der OSM Daten und der dazugehörigen Höhenlinien (join)</li>

               <li>Aufteilen der Gesamtdaten in Kacheln oder sogenannte Tiles (split)</li>

               <li>Kompilieren der Karte (build)</li>

               <li>Bauen der Kartenversionen für GPS, BaseCamp, usw (gmap, nsis, imagedir, gmapsupp)</li>
            </ul>Mehr Details finden sie <a href="./entwicklung-normal.html">hier</a>
         </li>

         <li>
            <strong>Karten für die wir in der Entwicklungsumgebung die Region zuerst zuschneiden müssen:</strong><br />
            Bei diesem Kartentyp existieren keine fertigen Extrakte vom gewünschten Gebiet auf GeoFabrik, darum müssen wir ein grösseres Gebiet als das eigentlich gewünschte herunterladen (in den meisten Fällen ganz Europa) und selbst zuschneiden. Bei diesem Kartentyp bauen wir vereinfacht nach dem folgenden Schema:<br />

            <ul>
               <li>Einmaliges Komplettieren der Entwicklungsumgebung: zuladen der sogenannten boundaries (bootstrap)</li>

               <li>Herunterladen der OSM Daten für übergeordnete Gebiet, im Normalfall ganz Europa (fetch_osm)</li>

               <li>Zuschneiden des übergeordneten Gebiet auf die gewünschte Grösse, DEU+ zum Beispiel (extract_osm)</li>

               <li>Herunterladen der Höhendaten direkt für das gewünschte Gebiet, DEU+ zum Beispiel (fetch_ele)</li>

               <li>Zusammensetzen der OSM Daten und der dazugehörigen Höhenlinien (join)</li>

               <li>Aufteilen der Gesamtdaten in Kacheln oder sogenannte Tiles (split)</li>

               <li>Kompilieren der Karte (build)</li>

               <li>Bauen der Kartenversionen für GPS, BaseCamp, usw (gmap, nsis, imagedir, gmapsupp)</li>
            </ul>Mehr Details finden sie <a href="./entwicklung-extrakte.html">hier</a>
         </li>
      </ol>

      <p>Überblick über den Workflow für beide Karten Typen:</p>

      <p><img alt="" src="./../images/Entwicklung-Prozess.jpg" style="border-width: 1px; border-style: solid; border-color: -moz-use-text-color;" /></p>

      <p><strong>Bedienung:</strong></p>

      <p><strong>MapTool (mt.pl):</strong><br />
      Ruft man das Utility "mt.pl" (MapTool) mit dem Argument -h auf, wird folgender Hilfetext ausgegeben:</p>
      <pre class="programmcode">
PS Freizeitkarte-Entwicklung&gt; perl mt.pl -h

mt.pl - Map Tool for creating Garmin maps, 1.3.11 - 2015/02/17

Usage:
perl mt.pl [--ram=&lt;value&gt;] [--cores=&lt;value&gt;] [--ele=&lt;value&gt;] \
           [--typfile=&quot;&lt;filename&gt;&quot;] [--style=&quot;&lt;dirname&gt;&quot;] \
           [--language=&quot;&lt;lang&gt;&quot;] [--unicode] \
           [--ntl=&quot;&lt;name-tag-list&gt;&quot;] \
           &lt;Action&gt; &lt;ID&gt; | &lt;Code&gt; | &lt;Map&gt; [PPO] ... [PPO]
  or
perl mt.pl bootstrap [urls &lt;url_bounds&gt; &lt;url_sea&gt;]
perl mt.pl bootstrap list

  or for getting help:
perl mt.pl -? | -h


Examples:
perl mt.pl                              bootstrap
perl mt.pl                              build     Freizeitkarte_Hamburg
perl mt.pl  --ram=1536    --cores=2     build     Freizeitkarte_Hamburg
perl mt.pl  --ram=6000                  build     5815
perl mt.pl  --ram=6000    --cores=max   build     5815
perl mt.pl  --ram=6000    --cores=max   build     Freizeitkarte_Oesterreich  DEXTENDEDROUTING

Options:
--ram      = javaheapsize in MB (join, split, build) (default = 1536)
--cores    = max. number of CPU cores (build) (1, 2, ..., max; default = 2)
--ele      = equidistance of elevation lines (fetch_ele) (10, 25; default = 25)
--typfile  = filename of a valid typfile to be used (build, gmap, nsis, gmapsupp, imagedir, typ) (default = freizeit.TYP)
--style    = name of the style to be used, must be a directory below styles (default = fzk)
--language = overwrite the default language of a map (en=english, de=german);
             if you build a map for another language than the map's default language,
             this option needs to be set for all subcommands, else it swaps back to the default language and possibly fails.
--unicode  = Build the map in unicode (CP65001) instead of in the native codepage of the map language.
                --unicode
--ntl      = overwrite the default name-tag-list for the mkgmap run (name) with a specific list, e.g.
                --ntl=&quot;name:en,int_name,name&quot;
             Please check mkgmap documentation for more information.
PPO        = preprocessor options (multiple possible), to be invoked with D&lt;option&gt;

Arguments:
Action     = Action to be processed
ID         = ID of the to processed map
Code       = Code of the to processed map
Map        = Name of the to be processed map

Actions:
bootstrap   =     Complete the Environment with needed downloads (boundaries)
create      = 1.  (re)create all directories
fetch_osm   = 2a. fetch osm data from url
fetch_ele   = 2b. fetch elevation data from url
join        = 3.  join osm and elevation data
split       = 4.  split map data into tiles
build       = 5.  build map files (img, mdx, tdb)
gmap        = 6.  create gmap file (for BaseCamp OS X, Windows)
nsis        = 6.  create nsis installer (for BaseCamp Windows)
gmapsupp    = 6.  create gmapsupp image (for GPS receiver)
imagedir    = 6.  create image directory (e.g. for QLandkarte)

ID = Code = Map  (default language):
5810 = BADEN-WUERTTEMBERG         = Freizeitkarte_BADEN-WUERTTEMBERG                  (de)
5811 = BAYERN                     = Freizeitkarte_BAYERN                              (de)
5812 = BERLIN                     = Freizeitkarte_BERLIN                              (de)
5813 = BRANDENBURG                = Freizeitkarte_BRANDENBURG                         (de)
5814 = BREMEN                     = Freizeitkarte_BREMEN                              (de)
5815 = HAMBURG                    = Freizeitkarte_HAMBURG                             (de)
5816 = HESSEN                     = Freizeitkarte_HESSEN                              (de)
5817 = MECKLENBURG-VORPOMMERN     = Freizeitkarte_MECKLENBURG-VORPOMMERN              (de)
5818 = NIEDERSACHSEN              = Freizeitkarte_NIEDERSACHSEN                       (de)
5819 = NORDRHEIN-WESTFALEN        = Freizeitkarte_NORDRHEIN-WESTFALEN                 (de)
5820 = RHEINLAND-PFALZ            = Freizeitkarte_RHEINLAND-PFALZ                     (de)
5821 = SAARLAND                   = Freizeitkarte_SAARLAND                            (de)
5822 = SACHSEN                    = Freizeitkarte_SACHSEN                             (de)
5823 = SACHSEN-ANHALT             = Freizeitkarte_SACHSEN-ANHALT                      (de)
5824 = SCHLESWIG-HOLSTEIN         = Freizeitkarte_SCHLESWIG-HOLSTEIN                  (de)
5825 = THUERINGEN                 = Freizeitkarte_THUERINGEN                          (de)
6040 = AUT                        = Freizeitkarte_AUT                                 (de)
6056 = BEL                        = Freizeitkarte_BEL                                 (fr)
6756 = CHE                        = Freizeitkarte_CHE                                 (de)
6203 = CZE                        = Freizeitkarte_CZE                                 (en)
6208 = DNK                        = Freizeitkarte_DNK                                 (en)
6276 = DEU                        = Freizeitkarte_DEU                                 (de)
6250 = FRA                        = Freizeitkarte_FRA                                 (fr)
6442 = LUX                        = Freizeitkarte_LUX                                 (fr)
6528 = NLD                        = Freizeitkarte_NLD                                 (nl)
6616 = POL                        = Freizeitkarte_POL                                 (pl)
6752 = SWE                        = Freizeitkarte_SWE                                 (en)
</pre>

      <p><strong>Terminal / Kommandofenster:</strong><br />
      - die Arbeitsschritte zur Erzeugung einer Karte erfolgen &uuml;ber ein Terminal<br />
      - hierzu sind die einzelnen Kommandos manuell im Terminal einzugeben<br />
      - oder alternativ k&ouml;nnen entsprechende Batchdateien erstellt werden<br />
      - das Windows-Synonym f&uuml;r Terminal lautet oft auch "Kommandofenster"</p>

      <p><img alt="" src="./../images/FZK_Terminal.jpg" style="border-width: 1px; border-style: solid; border-color: -moz-use-text-color; width: 665px; height: 199px;" /></p>

      <p><strong>Vorbedingungen:</strong><br />
      - Perl (5.10 oder h&ouml;her) mu&szlig; installiert sein<br />
      - Java (1.8 oder h&ouml;her) mu&szlig; installiert sein<br />
      - mindestens 2 GB Hauptspeicher</p>

      <p><strong>Empfehlungen zur Erzeugung einer Karte f&uuml;r ein Bundesland:</strong><br />
      - siehe Vorbedingungen<br />
      - Standardeinstellungen</p>

      <p><strong>Empfehlungen zur Erzeugung einer Karte f&uuml;r Deutschland:</strong><br />
      - leistungsstarke Mehr-Kern-CPU<br />
      - Java-Virtual-Machine mit 64bit (32bit Version hat zu kleine maximale Speicherzuteilung)<br />
      - je benutztem Prozessorkern sollte mindestens 2 GB RAM zur Verf&uuml;gung stehen</p>

      <p><strong>Anmerkung:</strong><br />
      - der Einstieg in die Kartenentwicklung sollte mit einer m&ouml;glichst kleinen Karte erfolgen<br />
      - der Buildproze&szlig; der Deutschlandkarte dauert bei Verwendung von 4 CPU-Kernen ca. 45 Minuten<br />
      - weitere Informationen zur Entwicklungsumgebung finden sich in der Datei "readme.txt"<br />
      - die Entwicklungsumgebung ist lauff&auml;hig unter OS X, Windows und Linux<br />
      - unter 64-Bit Linux-Systemen muss die Unterst&uuml;tzung f&uuml;r 32-Bit Programme installiert sein<br />
      - f&uuml;r das Erstellen des Windows-Installers unter Linux muss das NSIS (Nullsoft Scriptable Install System) Paket installiert sein</p>

      <p><strong>Schalter:</strong><br />
      In den Kartenstyles sind einige logische Schalter (bedingte &Uuml;bersetzung) eingebaut, die aktiviert werden k&ouml;nnen:<br />
      - WINTERSPORT: Darstellung von Linien f&uuml;r Wintersportaktivit&auml;ten (Pisten, Loipen, ...) [lines-master]<br />
      - EXTENDEDROUTING: Routing auch &uuml;ber (Berg-)Wanderwege der Klassen T4-T6 [lines-master]<br />
      - TRIGMARK: Darstellung von Trigonometrischen Markierungen [points-master]<br />
      - DRINKINGWATER: Darstellung von Trinkwasserstellen [points-master]<br />
      - KULTURLAND: Darstellung von Ackerfl&auml;chen [polygons-master]<br /></p>

      <h3>Freizeitkarte Entwicklungsumgebung - Ausgabe 18.02 (~30 MB):</h3>
      <p><a href="https://github.com/freizeitkarte/fzk-mde-garmin/archive/LATEST.zip">Download</a></p>
      <p><strong>Zusatzinformation:</strong><br />
	  Die Datei mit der Entwicklungsumgebung liegt unter dem Namen <i>fzk&#8209;mde&#8209;garmin&#8209;LATEST.zip</i> auf github zum Herunterladen bereit. In der ZIP Datei ist das bekannte Verzeichnis <i>Freizeitkarte&#8209;Entwicklung</i> in einem zus&auml;tzlichen Verzeichnis mit dem Namen <i>fzk&#8209;mde&#8209;garmin&#8209;Latest</i> verpackt.<br /></p>

   </div>
</body>
</html>