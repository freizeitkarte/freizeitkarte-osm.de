<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta content="width=device-width, initial-scale=1.0, user-scalable=yes" name="viewport" />
   <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

   <title>Freizeitkarte - Development Environment</title>
   <link href="../design-menue2.css" rel="stylesheet" type="text/css" />
</head>

<body>
   <div id="title">
      <h3 style="text-align: center; margin-top: 0px;">Freizeitkarte - Development Environment</h3>
   </div>

   <div id='cssmenu'>
      <ul>
         <li class='has-sub'>
            <a href='#'><span>Start &rsaquo;</span></a>

            <ul>
               <li><a href='./index.html'><span>Overview</span></a></li>

               <li><a href='./release.html'><span>Release</span></a></li>

               <li class='last'><a href='./installation.html'><span>Installation</span></a></li>
            </ul>
         </li>

         <li class='has-sub'>
            <a href='#'><span>Maps &rsaquo;</span></a>

            <ul>
               <li><a href='./germany.html'><span>Germany</span></a></li>

               <li><a href='./austria.html'><span>Austria</span></a></li>

               <li><a href='./switzerland.html'><span>Switzerland</span></a></li>

               <li><a href='./france.html'><span>France</span></a></li>

               <li><a href='./luxembourg.html'><span>Luxembourg</span></a></li>

               <li><a href='./poland.html'><span>Poland</span></a></li>

               <li><a href='./sweden.html'><span>Sweden</span></a></li>

               <li><a href='./more-countries.html'><span>More Countries</span></a></li>

               <li><a href='./plus-countries.html'><span>Plus Countries</span></a></li>

               <li class='last'><a href='./regions.html'><span>Regions</span></a></li>
            </ul>
         </li>

         <li class='has-sub'>
            <a href='#'><span>Documentation &rsaquo;</span></a>

            <ul>
               <li><a href='./maplegend.html'><span>Map legend</span></a></li>

               <li><a href='./design.html'><span>Design</span></a></li>

               <li><a href='./indexsearch.html'><span>Indexsearch</span></a></li>

               <li><a href='./routing.html'><span>Routing</span></a></li>

               <li><a href='./development.html'><span>Development</span></a></li>

               <li><a href='./bits-and-pieces.html'><span>Bits and Pieces</span></a></li>

               <li class='last'><a href='./call-for-help.html'><span>Call for Help</span></a></li>
            </ul>
         </li>

         <li class='last'><a href='./imprint.html'><span>Imprint</span></a></li>
      </ul>
   </div>

   <div id="content">
      <p>Everybody is invited to build ... an own map. This can be interesting for the following reasons:</p>

      <ol>
         <li><strong>Be up-to-date:</strong><br />
         It's possible to build a map with the most recent data. For this the OSM-data has to be downloaded and the map has to be built. All necessary steps are managed by Perl-script <strong>"mt.pl"</strong>.</li>

         <li><strong>Content:</strong><br />
         To build a map from OSM-data means data reduction. Only objects "worth" displaying are shown on the map. These definitions, which objects are shown, can subject to change for nearly every object. These definitions are configured in three style-files"polygons", "lines" and "points". These are plain text files and can be edited with an ordinary text editor (like TextWrangler for OS X oder Notepad++ for Windows). Most definitions are well commented to give a little help.</li>

         <li><strong>Design:</strong><br />
         The design is responsible for the visual appearence. Every appearence of nearly every object can be changed. For areas this means e. g. the colour, for lines it means e. g. thickness and for POIs it could mean the icon. Responsible for the design is a (binary) TYP-file. This TYP-file has to be edited with a special editor like TYPViewer for Windows.</li>
      </ol>

      <p><img alt="" src="../images/schaffhausen.jpg" style="border-width: 1px; border-style: solid;" /><br />
      <small>For about 15,000 years ago: The Rhine Falls in Schaffhausen is by far the largest waterfall in Europe.<br />
      In the summer rush to 150 meters wide on average 600,000 liters of water per second 23 meters in the depth.</small></p>

      <p>The last two aspects "content" and "design" are closely related. If a complete new type of object should be displayed it is necessary to define it regarding the two aspects.</p>

      <p><strong>Workflow for creating a Freizeitkarte:</strong></p>

      <p>The exact workflow depends on the type of map to be generated. Basically there are two types supported by the development environment::</p>

      <ol>
         <li>
            <strong>Maps based on existing OSM data extracts:</strong><br />
            There are existing extracts downloadable at GeoFabrik for this map type. Therefore the workflow looks simplified as follows:<br />

            <ul>
               <li>One time completion of the development environment: downloading the boundaries into the development environment (bootstrap)</li>

               <li>Downloading the OSM data and the according elevation data of the wished map (fetch_*)</li>

               <li>Joining the downloaded OSM and elevation data (join)</li>

               <li>Spliting the complete data into smaller junks, so called tiles (split)</li>

               <li>Compiling the map (build)</li>

               <li>Creating the different versions for GPS, BaseCamp, and so on (gmap, nsis, imagedir, gmapsupp)</li>
            </ul>More details can be found <a href="./development-normal.html">here</a>
         </li>

         <li>
            <strong>Maps for which we have to extract the wished region on our own:</strong><br />
            For this map type there are no existing extracts for the wished region downloadable from GeoFabrik, this is why we have to download a bigger region (containing our wished region, in most cases complete Europe) and extract the wished region inside the development environment on our own. The workflow looks simplified as follows:<br />

            <ul>
               <li>One time completion of the development environment: downloading the boundaries into the development environment (bootstrap)</li>

               <li>Downloading the OSM data of the bigger region containing the wished one, normally complete Europe (fetch_osm)</li>

               <li>Extracting the wished region from the bigger one, e.g. DEU+ (extract_osm)</li>

               <li>Downloading the elevation data directly for the wished region, e.g. DEU+ (fetch_ele)</li>

               <li>Joining the extracted OSM data and the downloaded elevation data (join)</li>

               <li>Spliting the complete data into smaller junks, so called tiles (split)</li>

               <li>Compiling the map (build)</li>

               <li>Creating the different versions for GPS, BaseCamp, and so on (gmap, nsis, imagedir, gmapsupp)</li>
            </ul>More details can be found <a href="./development-extracts.html">here</a>
         </li>
      </ol>

      <p>Overview regarding workflow for both type of maps:</p>

      <p><img alt="" src="./../images/Entwicklung-Prozess.jpg" style="border-width: 1px; border-style: solid; border-color: -moz-use-text-color;" /></p>

      <p><strong>Operation:</strong></p>

      <p><strong>MapTool (mt.pl):</strong><br />
      If you call the utility "mt.pl" (MapTool) without any parameters, the following help text is displayed:<br /></p>
      <pre class="programmcode">
mt.pl - Map Tool for creating Garmin maps, 1.3.5 - 2014/01/07

Usage:
perl mt.pl [--ram=&lt;value&gt;] [--cores=&lt;value&gt;] [--ele=&lt;value&gt;] [--typfile="&lt;filename&gt;"] [--language="&lt;lang&gt;"] &lt;Action&gt; &lt;ID&gt; | &lt;Code&gt; | &lt;Map&gt; [PPO] ... [PPO]
  or
perl mt.pl bootstrap [urls &lt;url_bounds&gt; &lt;url_sea&gt;]
perl mt.pl bootstrap list

  or for getting help:
  perl mt.pl -? | -h


Examples:
perl mt.pl                              bootstrap
perl mt.pl                              build     Freizeitkarte_Hamburg
perl mt.pl  --ram=1536    --cores=2     build     Freizeitkarte_Hamburg
perl mt.pl  --ram=6000                  build     5815
perl mt.pl  --ram=6000    --cores=max   build     5815
perl mt.pl  --ram=6000    --cores=max   build     Freizeitkarte_Oesterreich  DT36ROUTING

Options:
--ram      = javaheapsize in MB (join, split, build) (default = 1536)
--cores    = max. number of CPU cores (build) (1, 2, ..., max; default = 2)
--ele      = equidistance of elevation lines (fetch_ele) (10, 25; default = 25)
--typfile  = filename of a valid typfile to be used (build, gmap, nsis, gmapsupp, imagedir, typ) (default = freizeit.TYP)
--language = overwrite the default language of a map (en=english, de=german);
            if you build a map for another language than the map's default language,
            this option needs to be set for all subcommands, else it swaps back to the default language and possibly fails.
PPO        = preprocessor options (multiple possible), to be invoked with D&lt;option&gt;

Arguments:
Action     = Action to be processed
ID         = ID of the to processed map
Code       = Code of the to processed map
Map        = Name of the to be processed map

Actions:
bootstrap  =     Complete the Environment with needed downloads (boundaries)
create     = 1.  (re)create all directories
fetch_osm  = 2a. fetch osm data from url
fetch_ele  = 2b. fetch elevation data from url
join       = 3.  join osm and elevation data
split      = 4.  split map data into tiles
build      = 5.  build map files (img, mdx, tdb)
gmap       = 6.  create gmap file (for BaseCamp OS X, Windows)
nsis       = 6.  create nsis installer (for BaseCamp Windows)
gmapsupp   = 6.  create gmapsupp image (for GPS receiver)
imagedir   = 6.  create image directory (e.g. for QLandkarte)

ID = Code = Map  (default language):
5810 = BADEN-WUERTTEMBERG         = Freizeitkarte_BADEN-WUERTTEMBERG                  (de)
5811 = BAYERN                     = Freizeitkarte_BAYERN                              (de)
5812 = BERLIN                     = Freizeitkarte_BERLIN                              (de)
5813 = BRANDENBURG                = Freizeitkarte_BRANDENBURG                         (de)
5814 = BREMEN                     = Freizeitkarte_BREMEN                              (de)
5815 = HAMBURG                    = Freizeitkarte_HAMBURG                             (de)
5816 = HESSEN                     = Freizeitkarte_HESSEN                              (de)
5817 = MECKLENBURG-VORPOMMERN     = Freizeitkarte_MECKLENBURG-VORPOMMERN              (de)
5818 = NIEDERSACHSEN              = Freizeitkarte_NIEDERSACHSEN                       (de)
5819 = NORDRHEIN-WESTFALEN        = Freizeitkarte_NORDRHEIN-WESTFALEN                 (de)
5820 = RHEINLAND-PFALZ            = Freizeitkarte_RHEINLAND-PFALZ                     (de)
5821 = SAARLAND                   = Freizeitkarte_SAARLAND                            (de)
5822 = SACHSEN                    = Freizeitkarte_SACHSEN                             (de)
5823 = SACHSEN-ANHALT             = Freizeitkarte_SACHSEN-ANHALT                      (de)
5824 = SCHLESWIG-HOLSTEIN         = Freizeitkarte_SCHLESWIG-HOLSTEIN                  (de)
5825 = THUERINGEN                 = Freizeitkarte_THUERINGEN                          (de)
6040 = AUT                        = Freizeitkarte_AUT                                 (de)
6056 = BEL                        = Freizeitkarte_BEL                                 (en)
6756 = CHE                        = Freizeitkarte_CHE                                 (de)
6203 = CZE                        = Freizeitkarte_CZE                                 (en)
6208 = DNK                        = Freizeitkarte_DNK                                 (en)
6276 = DEU                        = Freizeitkarte_DEU                                 (de)
6250 = FRA                        = Freizeitkarte_FRA                                 (en)
6442 = LUX                        = Freizeitkarte_LUX                                 (en)
6528 = NLD                        = Freizeitkarte_NLD                                 (en)
6616 = POL                        = Freizeitkarte_POL                                 (pl)
6752 = SWE                        = Freizeitkarte_SWE                                 (en)
</pre>

      <p><strong>Terminal / command window:</strong><br />
      - The operations to generate a map are entered in a terminal / command window<br />
      - These individual commands needs to be manually entered in the terminal<br />
      - Or, alternatively, a corresponding batch files can be generated<br /></p>

      <p><img alt="" src="./../images/FZK_Terminal.jpg" style="border-width: 1px; border-style: solid; border-color: -moz-use-text-color; width: 665px; height: 199px;" /></p>

      <p><strong>Requirements:</strong><br />
      - Perl (5.10) must be installed<br />
      - Java (1.7) must be installed<br />
      - At least 2 GB of memory</p>

      <p><strong>Recommendations for generating a map for a State:</strong><br />
      - See requirements<br />
      - Default Settings</p>

      <p><strong>Recommendations for generating a map of Germany:</strong><br />
      - Powerful multi-core CPU<br />
      - Java Virtual Machine with 64bit<br />
      - For each used core at least 2 GB of RAM are necessary</p>

      <p><strong>Note:</strong><br />
      - The first map should be generated with the smallest possible map<br />
      - The build process of the map of Germany takes about 45 minutes by using 4 CPU cores<br />
      - Further information on the development environment is in the file "readme.txt"<br />
      - The development environment runs on OS X, Windows and Linux<br />
      - On 64-bit Linux systems, the support for 32-bit programs must be installed<br />
      - To generate the Windows installer under Linux, the NSIS (Nullsoft Scriptable Install System) package must be installed</p>

      <p><b>Options:</b><br />
      There are options available to change the map style which can be activated:<br />
      - WINTERSPORT: display of lines for winter sports (slopes, tracks, ...) [lines-master]<br />
      - T36ROUTING: routing via hiking/ alpin tracks class T3-T6 [lines-master]<br />
      - TRIGMARK: display of trigonometric markers [points-master]<br />
      - DRINKINGWATER: display of drinking water points [points-master]<br />
      - KULTURLAND: display of farmer land [polygons-master]<br /></p>

      <h3>Freizeitkarte development environment - Release 14.05 (~30 MB):</h3>
      <p><strong>Additional Information:</strong><br />
	  Starting with Release 14.05 the downloadable development environment is hosted on github and has a new filename (<i>fzk&#8209;mde&#8209;garmin&#8209;LATEST.zip</i>). Inside this file the well known directory <i>Freizeitkarte&#8209;Entwicklung</i> is boxed in an additional directory with the name <i>fzk&#8209;mde&#8209;garmin&#8209;Latest</i>.<br /></p>

      <p><a href="https://github.com/freizeitkarte/fzk-mde-garmin/archive/LATEST.zip">Download</a></p>

   </div>
</body>
</html>